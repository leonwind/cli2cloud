syntax = "proto3";

option go_package = "github.com/leonwind/service/api/proto";

package proto;

service Cli2Cloud {
  rpc RegisterClient(Empty) returns (Client);
  rpc Publish(stream Content) returns (Empty);
  rpc Subscribe(Client) returns (stream Content);
}

message Content {
  string Payload = 1;
  optional int64 Row = 3;
  Client client = 2;
}

message Client {
  string Id = 1;
}

message Empty {}